<nav class="pc-sidebar">
  <div class="navbar-wrapper">
    <div class="m-header flex flex-col items-center justify-center my-8 rounded-xl">
      <a href="{{ url_for('home_blueprint.index') }}" class="b-brand text-black">
        <img src="{{ url_for('static', filename='assets/images/user/Survive_Icon.png') }}" 
             class="img-fluid" alt="Survival System Logo" 
             style="height: 200px; width: 200px; transform: translateY(5px) translateX(-8px)">
      </a>
    </div>
    
    </div>
    <div class="navbar-content">

      <ul class="pc-navbar font-monospace font-bold text-xl">

        <li class="pc-item pc-caption">
          <label>Survival System</label>
        </li>
        <li class="pc-item">
          <a href="{{ url_for('home_blueprint.report') }}" class="pc-link">
            <span class="pc-micon"><i data-feather="info"></i></span>
            <span class="pc-mtext">Introduction</span>
          </a>
        </li>
        
        <li class="pc-item">
          <a href="{{ url_for('home_blueprint.main_panel') }}" class="pc-link">
            <span class="pc-micon"><i data-feather="layout"></i></span>
            <span class="pc-mtext">Passport</span>
          </a>
        </li>
      
        
        <li class="pc-item">
          <a href="{{ url_for('home_blueprint.inventory') }}" class="pc-link">
            <span class="pc-micon"><i data-feather="archive"></i></span>
            <span class="pc-mtext">Inventory</span>
          </a>
        </li>
        <li class="pc-item">
          <a href="{{ url_for('home_blueprint.crafting') }}" class="pc-link">
            <span class="pc-micon"><i data-feather="tool"></i></span>
            <span class="pc-mtext">Crafting</span>
          </a>
        </li>
        <li class="pc-item">
          <a href="{{ url_for('home_blueprint.gps') }}" class="pc-link">
            <span class="pc-micon"><i data-feather="map-pin"></i></span>
            <span class="pc-mtext">GPS</span>
          </a>
        </li>

      
        {% if current_user.is_authenticated %}
        
        {% endif %}

        {% if not current_user.is_authenticated %}
  
  
        {% else %}
        
        {% endif %}
      </ul>
      
      <div class="navbar-footer mt-12">
        <div class="card pc-user-card bg-transparent">
          <!-- Button that triggers QR Modal -->
          <button id="qrDownloadBtn" class="btn w-100" style="
            background-color: #1f1f1f;
            color: #ffffff;
            border: none;
            font-weight: bold;
            font-family: 'Courier New', Courier, monospace;
          ">
            <span class="pc-micon"><i data-feather="download"></i></span>
            Download
          </button>

          <!-- QR Modal -->
          <div id="qrModal" class="modal" style="display: none;">
            <div class="modal-content">
              <span class="close" onclick="closeModal()">&times;</span>
              <h2 class="rank-title">User Info</h2>
              <div id="qrContainer" class="qr-box"></div>
            </div>
          </div>          

          <!-- Modal Style -->
          <style>
            .modal {
              position: fixed;
              z-index: 9999;
              left: 0;
              top: 0;
              width: 100%;
              height: 100%;
              background: rgba(0, 0, 0, 0.75);
              display: flex;
              justify-content: center;
              align-items: center;
            }

            .modal-content {
              background: #fff6dc;
              padding: 40px;
              border-radius: 20px;
              width: 370px;
              text-align: center;
              font-family: 'Courier New', Courier, monospace;
              box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
              position: relative;
              justify-content: center;
              align-items: center;
            }

            .close {
              position: absolute;
              right: 20px;
              top: 15px;
              font-size: 26px;
              font-weight: bold;
              color: #aa0000;
              cursor: pointer;
            }

            .rank-title {
              font-size: 28px;
              color: #333;
              margin-bottom: 20px;
              font-weight: bold;

            }

            .qr-box canvas {
              margin: auto;
              display: block;
              width: 240px !important;
              height: 240px !important;
            }
          </style>

        </div>
      </div>
    </div>
  </div>
</nav>
